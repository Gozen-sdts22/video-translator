# Phase 3: WebUIï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ç”»é¢ï¼‰ - è¦ä»¶å®šç¾©æ›¸

## 1. æ¦‚è¦

### 1.1 ç›®çš„
Gradioãƒ™ãƒ¼ã‚¹ã®WebUIã‚’å®Ÿè£…ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€è¾æ›¸ç®¡ç†ã®æ©Ÿèƒ½ã‚’æä¾›ã™ã‚‹ã€‚

### 1.2 ã‚¹ã‚³ãƒ¼ãƒ—
- 3ã‚¿ãƒ–æ§‹æˆã®WebUI
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãƒ»å‡¦ç†å®Ÿè¡Œ
- ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ»ç·¨é›†
- ä¿®æ­£ææ¡ˆã®ç¢ºèªãƒ»é©ç”¨
- ASSãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

### 1.3 å‰ææ¡ä»¶
- Phase 1ã€Phase 2ãŒå®Œäº†ã—ã¦ã„ã‚‹ã“ã¨
- Gradio 4.xãŒåˆ©ç”¨å¯èƒ½ã§ã‚ã‚‹ã“ã¨

### 1.4 æˆæœç‰©
- Gradio WebUIã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- 3ã‚¿ãƒ–æ§‹æˆï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€è¾æ›¸ç®¡ç†ï¼‰

---

## 2. ç”»é¢è¨­è¨ˆ

### 2.1 å…¨ä½“æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ å‹•ç”»å­—å¹•ç”Ÿæˆãƒ„ãƒ¼ãƒ«                           [è¨­å®š] [?] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [ğŸ“¤ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰] [ğŸ“‹ ãƒ¬ãƒ“ãƒ¥ãƒ¼] [ğŸ“š è¾æ›¸ç®¡ç†]               â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚              å„ã‚¿ãƒ–ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„                      â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. ã‚¿ãƒ–1: ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

### 3.1 ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“¤ ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚         ğŸ“ ã“ã“ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‰ãƒ­ãƒƒãƒ—                  â”‚    â”‚
â”‚  â”‚            ã¾ãŸã¯ ã‚¯ãƒªãƒƒã‚¯ã—ã¦é¸æŠ                   â”‚    â”‚
â”‚  â”‚         å¯¾å¿œå½¢å¼: MP4, MKV, AVI, MOV                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  é¸æŠä¸­: idol_interview.mp4 (125.3 MB, 32:15)              â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  âš™ï¸ ã‚ªãƒ—ã‚·ãƒ§ãƒ³                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ â˜‘ è©±è€…è­˜åˆ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹                              â”‚    â”‚
â”‚  â”‚ â˜ è©³ç´°ãƒã‚§ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆå‡¦ç†æ™‚é–“å¢—åŠ ï¼‰                 â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆèªè­˜ãƒ’ãƒ³ãƒˆï¼‰:                        â”‚    â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚    â”‚
â”‚  â”‚ â”‚ æ¨ã—ãƒ¡ãƒ³ã€æ¡æ‰‹ä¼šã€ã‚»ãƒ³ã‚¿ãƒ¼ã€ãƒã‚§ã‚­...        â”‚    â”‚    â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚                    [â–¶ï¸ å‡¦ç†ã‚’é–‹å§‹]                           â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“Š é€²æ—çŠ¶æ³                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ âœ… éŸ³å£°æŠ½å‡ºå®Œäº† (00:32)                              â”‚    â”‚
â”‚  â”‚ âœ… è©±è€…è­˜åˆ¥å®Œäº† (02:15) - 3äººæ¤œå‡º                    â”‚    â”‚
â”‚  â”‚ âœ… æ–‡å­—èµ·ã“ã—å®Œäº† (08:45) - 156ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ            â”‚    â”‚
â”‚  â”‚ âœ… è¾æ›¸é©ç”¨å®Œäº† - 12ä»¶ç½®æ›                           â”‚    â”‚
â”‚  â”‚ âœ… ç¿»è¨³å®Œäº† (03:20)                                  â”‚    â”‚
â”‚  â”‚ ğŸ”„ å“è³ªãƒã‚§ãƒƒã‚¯ä¸­... 60%                             â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65%                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  å‡¦ç†å®Œäº†å¾Œã€ã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ã‚¿ãƒ–ã§çµæœã‚’ç¢ºèªã§ãã¾ã™            â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

#### 3.2.1 ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

```python
gr.File(
    label="å‹•ç”»ãƒ•ã‚¡ã‚¤ãƒ«",
    file_types=[".mp4", ".mkv", ".avi", ".mov", ".webm"],
    file_count="single"
)
```

#### 3.2.2 ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```python
enable_diarization = gr.Checkbox(
    label="è©±è€…è­˜åˆ¥ã‚’æœ‰åŠ¹ã«ã™ã‚‹",
    value=True
)

detailed_check = gr.Checkbox(
    label="è©³ç´°ãƒã‚§ãƒƒã‚¯ãƒ¢ãƒ¼ãƒ‰ï¼ˆå‡¦ç†æ™‚é–“å¢—åŠ ï¼‰",
    value=False
)

initial_prompt = gr.Textbox(
    label="åˆæœŸãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼ˆèªè­˜ãƒ’ãƒ³ãƒˆï¼‰",
    value="æ¨ã—ãƒ¡ãƒ³ã€æ¡æ‰‹ä¼šã€ã‚»ãƒ³ã‚¿ãƒ¼ã€ãƒã‚§ã‚­ã€ç·é¸æŒ™...",
    lines=2
)
```

#### 3.2.3 é€²æ—è¡¨ç¤º

```python
progress_output = gr.Markdown(label="é€²æ—çŠ¶æ³")
progress_bar = gr.Progress()
```

### 3.3 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

```python
def on_file_upload(file):
    """ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚"""
    if file is None:
        return "ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„"
    return f"é¸æŠä¸­: {file.name} ({format_size(file.size)})"

def on_start_processing(file, enable_diarization, detailed_check, initial_prompt, state):
    """å‡¦ç†é–‹å§‹"""
    if file is None:
        gr.Warning("ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„")
        return state
    
    # å‡¦ç†å®Ÿè¡Œï¼ˆyield ã§é€²æ—æ›´æ–°ï¼‰
    for progress_info in process_video_with_progress(...):
        yield progress_info, state
    
    # å®Œäº†æ™‚
    state["segments"] = result.segments
    state["suggestions"] = result.suggestions
    state["ass_path"] = result.ass_path
    
    gr.Info("å‡¦ç†å®Œäº†ï¼ã€Œãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ã‚¿ãƒ–ã§ç¢ºèªã—ã¦ãã ã•ã„")
    return state
```

---

## 4. ã‚¿ãƒ–2: ãƒ¬ãƒ“ãƒ¥ãƒ¼

### 4.1 ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ ãƒ¬ãƒ“ãƒ¥ãƒ¼                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ğŸ“Š æ¦‚è¦: 156ã‚»ã‚°ãƒ¡ãƒ³ãƒˆ | âš ï¸ 12ä»¶è¦ç¢ºèª | ğŸ“ 8ä»¶ææ¡ˆã‚ã‚Š     â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ” ãƒ•ã‚£ãƒ«ã‚¿                                                â”‚
â”‚  è¡¨ç¤º: [å…¨ã¦ â–¼]  ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹: [å…¨ã¦ â–¼]  è©±è€…: [å…¨ã¦ â–¼]       â”‚
â”‚  æ¤œç´¢: [________________________] [ğŸ”]                      â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä¸€è¦§                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  #12  00:45.2 â†’ 00:47.8  [è©±è€…1] ğŸŸ¡                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ æ—¥: ãŠã—ã‚ã‚“ãŒæœ€é«˜ã§ã™                          â”‚    â”‚
â”‚  â”‚  â”œâ”€ ä¸­: æˆ‘çš„æœ¬å‘½æœ€æ£’äº†                              â”‚    â”‚
â”‚  â”‚  â””â”€ ğŸ’¡ ææ¡ˆ: ã€ŒãŠã—ã‚ã‚“ã€â†’ã€Œæ¨ã—ãƒ¡ãƒ³ã€              â”‚    â”‚
â”‚  â”‚     [âœ“ é©ç”¨] [âœ— ç„¡è¦–] [ğŸ“š è¾æ›¸ã«è¿½åŠ ]               â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  #13  00:48.0 â†’ 00:51.5  [è©±è€…2] ğŸŸ¢                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ æ—¥: ãã†ã§ã™ã­ã€æ¡æ‰‹ä¼šæ¥½ã—ã¿ã§ã™                 â”‚    â”‚
â”‚  â”‚  â””â”€ ä¸­: æ˜¯å•Šï¼Œå¾ˆæœŸå¾…æ¡æ‰‹ä¼š                          â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚  #14  00:52.0 â†’ 00:55.8  [è©±è€…1] ğŸŸ¡                 â”‚    â”‚
â”‚  â”‚  â”œâ”€ æ—¥: ã‚»ãƒ³ã‚¿ãƒ¼ã«ç«‹ã¡ãŸã„ã§ã™                       â”‚    â”‚
â”‚  â”‚  â”œâ”€ ä¸­: æƒ³ç«™åœ¨ä¸­å¿ƒ                                  â”‚    â”‚
â”‚  â”‚  â””â”€ ğŸ’¡ ææ¡ˆ: ã€Œæƒ³ç«™åœ¨ä¸­å¿ƒã€â†’ã€Œæƒ³ç«™Cä½ã€             â”‚    â”‚
â”‚  â”‚     [âœ“ é©ç”¨] [âœ— ç„¡è¦–]                               â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  [â—€ å‰ã¸] ãƒšãƒ¼ã‚¸ 1 / 8 (20ä»¶/ãƒšãƒ¼ã‚¸) [æ¬¡ã¸ â–¶]              â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  âš¡ ä¸€æ‹¬æ“ä½œ                                                â”‚
â”‚  [âœ“ å…¨ã¦ã®ææ¡ˆã‚’é©ç”¨] [ğŸ“¥ ASSãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰]                  â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœï¸ ã‚»ã‚°ãƒ¡ãƒ³ãƒˆç·¨é›† #12                              [âœ•]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â±ï¸ ã‚¿ã‚¤ãƒŸãƒ³ã‚°                                              â”‚
â”‚  é–‹å§‹: [00:45.200]  çµ‚äº†: [00:47.800]                       â”‚
â”‚                                                             â”‚
â”‚  ğŸ‘¤ è©±è€…: [è©±è€…1 â–¼]                                         â”‚
â”‚                                                             â”‚
â”‚  ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ãŠã—ã‚ã‚“ãŒæœ€é«˜ã§ã™                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  ğŸ‡¨ğŸ‡³ ä¸­å›½èª                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ æˆ‘çš„æœ¬å‘½æœ€æ£’äº†                                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  ğŸ’¡ ä¿®æ­£ææ¡ˆ                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ç¨®åˆ¥: èª¤èªè­˜                                        â”‚    â”‚
â”‚  â”‚ å…ƒ: ãŠã—ã‚ã‚“ â†’ ææ¡ˆ: æ¨ã—ãƒ¡ãƒ³                       â”‚    â”‚
â”‚  â”‚ ç†ç”±: ã€ŒãŠã—ã‚ã‚“ã€ã¯ã€Œæ¨ã—ãƒ¡ãƒ³ã€ã®èª¤èªè­˜            â”‚    â”‚
â”‚  â”‚ [âœ“ é©ç”¨] [ğŸ“š è¾æ›¸ã«è¿½åŠ ã—ã¦é©ç”¨]                    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚              [ã‚­ãƒ£ãƒ³ã‚»ãƒ«] [ğŸ’¾ ä¿å­˜]                          â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

#### 4.3.1 ãƒ•ã‚£ãƒ«ã‚¿

```python
filter_status = gr.Dropdown(
    label="ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹",
    choices=["å…¨ã¦", "è¦ç¢ºèªã®ã¿", "OKã®ã¿"],
    value="å…¨ã¦"
)

filter_speaker = gr.Dropdown(
    label="è©±è€…",
    choices=["å…¨ã¦", "è©±è€…1", "è©±è€…2", "è©±è€…3", "è©±è€…4"],
    value="å…¨ã¦"
)

search_text = gr.Textbox(
    label="æ¤œç´¢",
    placeholder="ãƒ†ã‚­ã‚¹ãƒˆã§æ¤œç´¢..."
)
```

#### 4.3.2 ã‚»ã‚°ãƒ¡ãƒ³ãƒˆè¡¨ç¤º

```python
def render_segments(segments, page, filters):
    """ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä¸€è¦§ã‚’HTMLç”Ÿæˆ"""
    html = ""
    for seg in filtered_segments:
        status_icon = {"ok": "ğŸŸ¢", "warning": "ğŸŸ¡", "error": "ğŸ”´"}[seg.status]
        html += f"""
        <div class="segment {seg.status}">
            <div class="segment-header">
                #{seg.id} {format_time(seg.start)} â†’ {format_time(seg.end)}
                [{seg.speaker}] {status_icon}
            </div>
            <div class="segment-text">
                <div>æ—¥: {seg.text_ja}</div>
                <div>ä¸­: {seg.text_zh}</div>
            </div>
            {render_suggestions(seg.suggestions)}
        </div>
        """
    return html
```

### 4.4 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

```python
def on_apply_suggestion(segment_id, suggestion_id, state):
    """ææ¡ˆã‚’é©ç”¨"""
    segment = find_segment(state["segments"], segment_id)
    suggestion = find_suggestion(state["suggestions"], suggestion_id)
    
    # é©ç”¨
    if suggestion.field == "text_ja":
        segment.text_ja = segment.text_ja.replace(
            suggestion.original, suggestion.suggested
        )
    else:
        segment.text_zh = suggestion.suggested
    
    # ææ¡ˆã‚’å‰Šé™¤ã€ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–°
    remove_suggestion(segment, suggestion)
    update_segment_status(segment)
    
    return state

def on_add_to_dictionary(suggestion, state):
    """è¾æ›¸ã«è¿½åŠ """
    if suggestion.dict_entry:
        add_dictionary_entry(suggestion.dict_entry)
        gr.Info(f"è¾æ›¸ã«è¿½åŠ ã—ã¾ã—ãŸ: {suggestion.dict_entry['wrong']} â†’ {suggestion.dict_entry['correct']}")
    return state

def on_download_ass(state):
    """ASSãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰"""
    ass_path = generate_ass(state["segments"], "output/subtitle.ass")
    return ass_path
```

---

## 5. ã‚¿ãƒ–3: è¾æ›¸ç®¡ç†

### 5.1 ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“š ã‚«ã‚¹ã‚¿ãƒ è¾æ›¸ç®¡ç†                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  [â• æ–°è¦è¿½åŠ ] [ğŸ“¥ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ] [ğŸ“¤ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ]             â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ” æ¤œç´¢: [____________________]  ã‚«ãƒ†ã‚´ãƒª: [å…¨ã¦ â–¼]        â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“– ç™»éŒ²æ¸ˆã¿è¾æ›¸ (24ä»¶)                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ èª¤èªè­˜          â”‚ æ­£ã—ã„è¡¨è¨˜    â”‚ ã‚«ãƒ†ã‚´ãƒª      â”‚     â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ ãŠã—ã‚ã‚“        â”‚ æ¨ã—ãƒ¡ãƒ³      â”‚ ã‚¢ã‚¤ãƒ‰ãƒ«ç”¨èª  â”‚[âœï¸ğŸ—‘]â”‚   â”‚
â”‚  â”‚ ã‚ãã—ã‚…ã‹ã„    â”‚ æ¡æ‰‹ä¼š        â”‚ ã‚¢ã‚¤ãƒ‰ãƒ«ç”¨èª  â”‚[âœï¸ğŸ—‘]â”‚   â”‚
â”‚  â”‚ ã›ã‚“ãŸãƒ¼        â”‚ ã‚»ãƒ³ã‚¿ãƒ¼      â”‚ ã‚¢ã‚¤ãƒ‰ãƒ«ç”¨èª  â”‚[âœï¸ğŸ—‘]â”‚   â”‚
â”‚  â”‚ ã¾ã„ã‚„ã‚“        â”‚ ç™½çŸ³éº»è¡£      â”‚ ãƒ¡ãƒ³ãƒãƒ¼å    â”‚[âœï¸ğŸ—‘]â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                             â”‚
â”‚  ğŸ“ å­¦ç¿’å€™è£œï¼ˆãƒã‚§ãƒƒã‚¯AgentãŒæ¤œå‡º: 3ä»¶ï¼‰                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ã€Œãˆãƒ¼ã‘ãƒ¼ã³ãƒ¼ã€â†’ã€ŒAKBã€ (æ¤œå‡º: 5å›, ä¿¡é ¼åº¦: 0.92)  â”‚    â”‚
â”‚  â”‚ [âœ“ è¿½åŠ ] [âœ— ç„¡è¦–]                                   â”‚    â”‚
â”‚  â”‚                                                     â”‚    â”‚
â”‚  â”‚ ã€Œã«ã˜ã‚…ã†ã‚ãã€â†’ã€Œ26ã€ (æ¤œå‡º: 2å›, ä¿¡é ¼åº¦: 0.75)   â”‚    â”‚
â”‚  â”‚ [âœ“ è¿½åŠ ] [âœ— ç„¡è¦–]                                   â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä»•æ§˜

```python
# è¾æ›¸ãƒ†ãƒ¼ãƒ–ãƒ«
dictionary_table = gr.Dataframe(
    headers=["èª¤èªè­˜", "æ­£ã—ã„è¡¨è¨˜", "ã‚«ãƒ†ã‚´ãƒª", "ä½¿ç”¨å›æ•°"],
    datatype=["str", "str", "str", "number"],
    interactive=False
)

# æ–°è¦è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ 
new_wrong = gr.Textbox(label="èª¤èªè­˜ãƒ‘ã‚¿ãƒ¼ãƒ³")
new_correct = gr.Textbox(label="æ­£ã—ã„è¡¨è¨˜")
new_category = gr.Dropdown(
    label="ã‚«ãƒ†ã‚´ãƒª",
    choices=["ã‚¢ã‚¤ãƒ‰ãƒ«ç”¨èª", "ãƒ¡ãƒ³ãƒãƒ¼å", "ã‚°ãƒ«ãƒ¼ãƒ—å", "ãã®ä»–"],
    allow_custom_value=True
)

# ã‚¤ãƒ³ãƒãƒ¼ãƒˆ/ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
import_file = gr.File(label="JSONã‚¤ãƒ³ãƒãƒ¼ãƒˆ", file_types=[".json"])
export_button = gr.Button("ğŸ“¤ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ")
```

### 5.3 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©

```python
def on_add_entry(wrong, correct, category):
    """è¾æ›¸ã‚¨ãƒ³ãƒˆãƒªè¿½åŠ """
    if not wrong or not correct:
        gr.Warning("èª¤èªè­˜ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨æ­£ã—ã„è¡¨è¨˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")
        return load_dictionary()
    
    add_dictionary_entry(DictionaryEntry(
        wrong=wrong,
        correct=correct,
        category=category or "ãã®ä»–"
    ))
    gr.Info("è¾æ›¸ã«è¿½åŠ ã—ã¾ã—ãŸ")
    return load_dictionary()

def on_delete_entry(entry_id):
    """è¾æ›¸ã‚¨ãƒ³ãƒˆãƒªå‰Šé™¤"""
    delete_dictionary_entry(entry_id)
    return load_dictionary()

def on_import(file):
    """è¾æ›¸ã‚¤ãƒ³ãƒãƒ¼ãƒˆ"""
    count = import_dictionary(file.name)
    gr.Info(f"{count}ä»¶ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ")
    return load_dictionary()

def on_export():
    """è¾æ›¸ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"""
    return export_dictionary("data/dictionary_export.json")
```

---

## 6. çŠ¶æ…‹ç®¡ç†

### 6.1 ã‚°ãƒ­ãƒ¼ãƒãƒ«çŠ¶æ…‹

```python
@dataclass
class AppState:
    # å‡¦ç†çµæœ
    segments: List[Segment] = field(default_factory=list)
    suggestions: List[Suggestion] = field(default_factory=list)
    
    # ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±
    current_file: str | None = None
    ass_path: str | None = None
    
    # å‡¦ç†çŠ¶æ…‹
    is_processing: bool = False
    
    # UIçŠ¶æ…‹
    review_page: int = 1
    review_filters: dict = field(default_factory=dict)
```

### 6.2 Gradio State

```python
with gr.Blocks() as app:
    state = gr.State(AppState())
    
    # å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§stateã‚’å…±æœ‰
    button.click(fn=handler, inputs=[..., state], outputs=[..., state])
```

---

## 7. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°

### 7.1 ã‚«ã‚¹ã‚¿ãƒ CSS

```css
.segment {
    border: 1px solid #e0e0e0;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 8px;
}

.segment.warning {
    border-left: 4px solid #ffc107;
}

.segment.error {
    border-left: 4px solid #dc3545;
}

.segment-header {
    font-weight: bold;
    margin-bottom: 8px;
    color: #333;
}

.suggestion {
    background: #fff3cd;
    padding: 8px;
    border-radius: 4px;
    margin-top: 8px;
}
```

---

## 8. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

| ã‚¨ãƒ©ãƒ¼ | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | å¯¾å‡¦ |
|--------|-----------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«æœªé¸æŠ | ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„ã€ | å‡¦ç†ä¸­æ–­ |
| éå¯¾å¿œå½¢å¼ | ã€Œå¯¾å¿œã—ã¦ã„ãªã„ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã§ã™ã€ | å‡¦ç†ä¸­æ–­ |
| å‡¦ç†ä¸­ã‚¨ãƒ©ãƒ¼ | ã€Œå‡¦ç†ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ | ã‚¨ãƒ©ãƒ¼è©³ç´°è¡¨ç¤º |
| APIã‚¨ãƒ©ãƒ¼ | ã€ŒAPIã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€ | ãƒªãƒˆãƒ©ã‚¤æ¡ˆå†… |

---

## 9. ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
app.py                    # ãƒ¡ã‚¤ãƒ³ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ upload_tab.py     # ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¿ãƒ–
â”‚   â”œâ”€â”€ review_tab.py     # ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¿ãƒ–
â”‚   â”œâ”€â”€ dictionary_tab.py # è¾æ›¸ç®¡ç†ã‚¿ãƒ–
â”‚   â””â”€â”€ components.py     # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â””â”€â”€ static/
    â””â”€â”€ style.css         # ã‚«ã‚¹ã‚¿ãƒ CSS
```

---

## 10. ãƒ†ã‚¹ãƒˆè¦ä»¶

### 10.1 UIãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆé …ç›® | å†…å®¹ |
|-----------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ | å„å½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‹ |
| å‡¦ç†å®Ÿè¡Œ | å‡¦ç†ãŒå®Œäº†ã—ã€çµæœãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ |
| ãƒ•ã‚£ãƒ«ã‚¿ | ãƒ•ã‚£ãƒ«ã‚¿ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ |
| ææ¡ˆé©ç”¨ | ææ¡ˆãŒæ­£ã—ãé©ç”¨ã•ã‚Œã‚‹ã‹ |
| è¾æ›¸æ“ä½œ | CRUDæ“ä½œãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ |
| ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | ASSãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã‚‹ã‹ |
| ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ | ãƒšãƒ¼ã‚¸åˆ‡ã‚Šæ›¿ãˆãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã‹ |

### 10.2 çµ±åˆãƒ†ã‚¹ãƒˆ

| ãƒ†ã‚¹ãƒˆé …ç›® | å†…å®¹ |
|-----------|------|
| E2Eãƒ•ãƒ­ãƒ¼ | ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰â†’å‡¦ç†â†’ãƒ¬ãƒ“ãƒ¥ãƒ¼â†’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã®æµã‚Œ |
| çŠ¶æ…‹ä¿æŒ | ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ™‚ã«çŠ¶æ…‹ãŒä¿æŒã•ã‚Œã‚‹ã‹ |
| ã‚¨ãƒ©ãƒ¼å›å¾© | ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿå¾Œã«æ­£å¸¸ã«æ“ä½œã§ãã‚‹ã‹ |

---

## 11. å®Ÿè£…é †åº

1. `app.py` - åŸºæœ¬æ§‹é€ ã€ã‚¿ãƒ–æ§‹æˆ
2. `ui/components.py` - å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
3. `ui/upload_tab.py` - ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¿ãƒ–ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«é¸æŠã€ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
4. `ui/upload_tab.py` - é€²æ—è¡¨ç¤ºæ©Ÿèƒ½
5. `ui/review_tab.py` - ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä¸€è¦§è¡¨ç¤º
6. `ui/review_tab.py` - ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢æ©Ÿèƒ½
7. `ui/review_tab.py` - ææ¡ˆé©ç”¨æ©Ÿèƒ½
8. `ui/review_tab.py` - ç·¨é›†ãƒ¢ãƒ¼ãƒ€ãƒ«
9. `ui/dictionary_tab.py` - è¾æ›¸ä¸€è¦§ãƒ»CRUD
10. `static/style.css` - ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
11. ãƒ†ã‚¹ãƒˆå®Ÿè£…

---

## 12. å®Œäº†æ¡ä»¶

- [ ] 3ã‚¿ãƒ–æ§‹æˆã®UIãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå‹•ä½œã™ã‚‹
- [ ] å‡¦ç†å®Ÿè¡Œã¨é€²æ—è¡¨ç¤ºãŒå‹•ä½œã™ã‚‹
- [ ] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢ãŒå‹•ä½œã™ã‚‹
- [ ] ææ¡ˆã®é©ç”¨ãƒ»ç„¡è¦–ãŒå‹•ä½œã™ã‚‹
- [ ] ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã®ç·¨é›†ãŒå‹•ä½œã™ã‚‹
- [ ] è¾æ›¸ã®CRUDãŒå‹•ä½œã™ã‚‹
- [ ] ASSãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãŒå‹•ä½œã™ã‚‹
- [ ] ã‚¨ãƒ©ãƒ¼æ™‚ã«é©åˆ‡ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
